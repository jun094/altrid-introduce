import React, { useState } from 'react';
import { useRef } from 'react';
import { useEffect } from 'react';
import styled from 'styled-components';

const IconRoot = styled.svg`
    fill: ${({ color }) => (color ? color : null)};
    width: ${({ fontSize }) => (fontSize ? fontSize : null)};
    height: ${({ fontSize }) => (fontSize ? fontSize : null)};
`;

export default function Error({ color, fontSize }) {
    const rootRef = useRef();
    const [inheritFontSize, setInheritFontSize] = useState('16px');
    const [inheritFontColor, setInheritFontColor] = useState('#000000');
    useEffect(() => {
        const parentElement = rootRef.current.parentElement.parentElement;
        const parentStyles = window.getComputedStyle(parentElement);
        const parentFontSize = parentStyles.fontSize;
        const parentColor = parentStyles.color;
        setInheritFontSize(parentFontSize);
        setInheritFontColor(parentColor);
    }, []);
    return (
        <IconRoot
            color={color === 'inherit' ? inheritFontColor : color}
            fontSize={fontSize === 'inherit' ? inheritFontSize : fontSize}
            viewBox="0 0 22 22"
            ref={rootRef}
        >
            <path d="M10 0C15.523 0 20 4.478 20 10C20 15.522 15.523 20 10 20C4.477 20 0 15.522 0 10C0 4.478 4.477 0 10 0ZM10 1.667C5.405 1.667 1.667 5.405 1.667 10C1.667 14.595 5.405 18.333 10 18.333C14.595 18.333 18.333 14.595 18.333 10C18.333 5.405 14.595 1.667 10 1.667ZM9.99866 12.5022C10.5502 12.5022 10.9973 12.9494 10.9973 13.5009C10.9973 14.0524 10.5502 14.4996 9.99866 14.4996C9.44712 14.4996 9 14.0524 9 13.5009C9 12.9494 9.44712 12.5022 9.99866 12.5022ZM9.99446 5C10.3742 4.9997 10.6882 5.2816 10.7381 5.64764L10.7451 5.7494L10.7487 10.251C10.749 10.6652 10.4135 11.0013 9.99926 11.0016C9.61957 11.0019 9.30555 10.72 9.25559 10.354L9.24866 10.2522L9.24506 5.7506C9.24473 5.33639 9.58025 5.00033 9.99446 5Z" />
            <path d="M11 1C16.523 1 21 5.478 21 11C21 16.522 16.523 21 11 21C5.477 21 1 16.522 1 11C1 5.478 5.477 1 11 1ZM11 2.667C6.405 2.667 2.667 6.405 2.667 11C2.667 15.595 6.405 19.333 11 19.333C15.595 19.333 19.333 15.595 19.333 11C19.333 6.405 15.595 2.667 11 2.667ZM10.9987 13.5022C11.5502 13.5022 11.9973 13.9494 11.9973 14.5009C11.9973 15.0524 11.5502 15.4996 10.9987 15.4996C10.4471 15.4996 10 15.0524 10 14.5009C10 13.9494 10.4471 13.5022 10.9987 13.5022ZM10.9945 6C11.3742 5.9997 11.6882 6.2816 11.7381 6.64764L11.7451 6.7494L11.7487 11.251C11.749 11.6652 11.4135 12.0013 10.9993 12.0016C10.6196 12.0019 10.3055 11.72 10.2556 11.354L10.2487 11.2522L10.2451 6.7506C10.2447 6.33639 10.5802 6.00033 10.9945 6Z" />
            <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11 1.5C5.75318 1.5 1.5 5.75411 1.5 11C1.5 16.2459 5.75318 20.5 11 20.5C16.2468 20.5 20.5 16.2459 20.5 11C20.5 5.75411 16.2468 1.5 11 1.5ZM0.5 11C0.5 5.20189 5.20083 0.5 11 0.5C16.7992 0.5 21.5 5.20189 21.5 11C21.5 16.7981 16.7992 21.5 11 21.5C5.20083 21.5 0.5 16.7981 0.5 11ZM2.167 11C2.167 6.12886 6.12886 2.167 11 2.167C15.8711 2.167 19.833 6.12886 19.833 11C19.833 15.8711 15.8711 19.833 11 19.833C6.12886 19.833 2.167 15.8711 2.167 11ZM11 3.167C6.68114 3.167 3.167 6.68114 3.167 11C3.167 15.3189 6.68114 18.833 11 18.833C15.3189 18.833 18.833 15.3189 18.833 11C18.833 6.68114 15.3189 3.167 11 3.167ZM11.2408 6.70305C11.219 6.5875 11.1168 6.4999 10.9949 6.5C10.8568 6.50011 10.745 6.61213 10.7451 6.7502L10.7486 11.235L10.753 11.2985C10.7747 11.4141 10.877 11.5017 10.9989 11.5016C11.1369 11.5015 11.2488 11.3895 11.2487 11.2514L11.2451 6.76659L11.2408 6.70305ZM10.9941 5.5C11.6273 5.49949 12.1502 5.96948 12.2335 6.58002L12.2358 6.59679L12.245 6.7322L12.2487 11.2506C12.2492 11.941 11.69 12.501 10.9997 12.5016C10.3664 12.5021 9.84351 12.0321 9.76018 11.4216L9.75789 11.4048L9.74868 11.2694L9.74506 6.751C9.74451 6.06064 10.3037 5.50055 10.9941 5.5ZM10.9987 14.0022C10.7233 14.0022 10.5 14.2255 10.5 14.5009C10.5 14.7763 10.7233 14.9996 10.9987 14.9996C11.2741 14.9996 11.4973 14.7763 11.4973 14.5009C11.4973 14.2255 11.2741 14.0022 10.9987 14.0022ZM9.5 14.5009C9.5 13.6732 10.171 13.0022 10.9987 13.0022C11.8264 13.0022 12.4973 13.6732 12.4973 14.5009C12.4973 15.3286 11.8264 15.9996 10.9987 15.9996C10.171 15.9996 9.5 15.3286 9.5 14.5009Z"
            />
        </IconRoot>
    );
}
